<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<!-- Include PapaParse from CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<style>
    
  html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    .container {
        
      position: fixed;
      top: 0;
      left: 0;
      width: 100%; /* esta clase es la de la imagen del fondo, la libreria*/
      height: 100%;
      overflow: hidden;
      z-index: -1; /* Ensure the image stays in the background */
    }

    .container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  .form-section {
    
    width: 100%; 
    flex: 4; /* Takes up 3/4 of the space */
    padding-top: 10px;
  padding-bottom: 20px;
  padding-left: 0; /* No left padding */
  padding-right: 0; 
  }




  .transparent-rectangle {
    margin-top: 20px; 
  height: 120px;
  /*background-color: #e5e5e5; This is a purple color, adjust the shade as you prefer */
  border-radius: 10px; /* Adjust as needed for desired roundness */
  padding: 20px; /* Add padding inside the rectangle */
  margin-bottom: 20px; /* Add some space below the rectangle */
  background-color: rgba(229, 229, 229, 0.41);
  z-index: 1;
  position: relative;
}

.transparent-rectangle img {

    position: relative; /* Add position relative */
  top: -35px; /* Move the image up by 10 pixels */
  left: 1px;
  width: 200px; /* Increase the width */
  height: auto; /* Automatically adjust the height to maintain proportions */
  border-radius: 12px;
  border: 1px solid #020002;
  box-sizing: border-box;
  box-shadow: 15px 12px 0px #d848e0;
  background-image: url(./image.jpg);
  background-position: center center;
  background-size: cover;
  background-repeat: no-repeat;
  opacity: 1;
}



.card {
    position: absolute;
    border-radius: 24px;
    box-sizing: border-box;
  }
  .card-light {
    position: absolute;
    top: 62px;
    left: 0px;
    width: 100vw;
    height: 123px;
    background-color: #e5e5e5;
    opacity: 0.41;
    z-index: 1;
  }



  /*PDF*/

.pdf-container iframe {
  width: 100%; /* Make the iframe responsive */
  height: 100%; /* Set height to full viewport height or adjust as needed */
  border: none; /* Removes the border around the iframe */
  padding: 0; /* Ensure there's no padding inside the iframe */
  
}


.pdf-container {
  position: absolute;
  top: 135%;
  left: 65%;
  transform: translate(-50%, -50%);
  width: 60%; /* Adjust as necessary */
  height: 200%; /* Adjust as necessary */
  border: 1px solid #ccc; /* Optional, for visual styling */
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1); /* Optional, for visual styling */
  margin-top: 80px;
}



  /* Adapting React styles to CSS */
  .text-style1 {
    color: #ffffff;
    font-size: 37px;
    font-family: "Roboto";
    font-style: italic;
    line-height: 28px;
    text-align: center;
  }

  .text-yellow{
    color: black;
    font-size: 37px;
    font-family: "Roboto";
    font-style: italic;
    line-height: 28px;
    text-align: center;
  }

  .text-style2 {
  display: none; /* Hide it initially */
  position: absolute;
  top: 100px; /* Adjust based on the desired space between .card-purple and the text */
  padding: 0 20px; /* Adds padding on the left and right */
  /* Existing .text-style2 styles */
  color: #e6e6e6;
  font-size: 24px;
  font-family: 'Roboto', sans-serif;
  line-height: 31px;
  /*display: flex; /* Use flexbox */
  /*align-items: center; /* Center vertically, if needed */
  /*justify-content: center;  Center horizontally, if applicable */
  text-align: center; /* Center text lines */
  max-height: 250px; /* Adjust this value to fit the card size */
  overflow-y: auto; /* Adds a scrollbar if the content overflows */
  margin: 10px; /* Adjust margin as needed */
}

/* For webkit browsers like Chrome, Safari, and Edge */
.text-style2::-webkit-scrollbar {
  width: 8px; /* Adjust the width of the scrollbar */
}

.text-style2::-webkit-scrollbar-track {
  background: transparent; /* Makes scrollbar track transparent */
}

.text-style2::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.5); /* Makes scrollbar thumb semi-transparent white */
  border-radius: 4px; /* Optional: Adds border-radius to the scrollbar thumb */
}

/* For Firefox */
.text-style2 {
  scrollbar-width: thin; /* Makes scrollbar 'thin' */
  scrollbar-color: rgba(255, 255, 255, 0.5) transparent; /* Sets the scrollbar color and track color */
}

.card-small-dark {
  position: relative; /* Ensures a positioning context for descendants */
  top: 190px;
  left: 26px;
  width: 476px;
  height: 426px;
  background-color: #161616;
  border: 1px solid #323232;
  border-radius: 53px;
  display: flex; /* Use flexbox */
  align-items: center; /* Center vertically */
  justify-content: center; /* Center horizontally */
  text-align: center; /* Center text lines */
  padding: 20px; /* Adds padding inside the card for content */
  z-index: 1;
}

  .card-purple {
    position: absolute; /* Positioned absolutely within .card-small-dark */
  top: 23px; /* Adjusted to position within .card-small-dark */
  left: 23px; /* Adjusted to align with the padding of .card-small-dark */
  width: 441px;
  height: 91px;
  background-color: #9026a4;
  border-radius: 34px;
  z-index: 2;
  }

  /* Image style adapted */
  .image {
    top: 345px;
    left: 470px;
    width: 516px;
    height: 786px;
    border-radius: 8px;
    background-image: url('./image.png');
    background-position: center center;
    background-size: cover;
    background-repeat: no-repeat;
    position: absolute; /* Added to position the image correctly */
  }

  .card-small-dark3 {
  position: relative; /* or 'absolute' if within a positioned parent container */
  top: 750px; /* Adjust this value based on the total height of the above cards including any margin/padding */
  left: 26px; /* Match this with the 'left' values of other cards */
  width: 476px;
  height: 426px;
  background-color: #161616;
  border: 1px solid #323232;
  border-radius: 53px;
  display: flex; /* Use flexbox */
  align-items: center; /* Center vertically */
  justify-content: center; /* Center horizontally */
  text-align: center; /* Center text lines */
  padding: 20px; /* Adds padding inside the card for content */
  z-index: 3;
}

.card-yellow {
  position: absolute; /* Positioned absolutely within .card-small-dark */
  top: 23px; /* Adjusted to position within .card-small-dark */
  right: 23px; /* Adjusted to align with the padding of .card-small-dark */
  width: 441px;
  height: 91px;
    background-color: yellow;
    border-radius: 34px;
  }

  

  .card-small-dark2 {
  position: relative; /* Ensures a positioning context for descendants */
  top: -180px;
  left: 26px;
  width: 476px;
  height: 426px;
  background-color: #161616;
  border: 1px solid #323232;
  border-radius: 53px;
  display: flex; /* Use flexbox */
  align-items: center; /* Center vertically */
  justify-content: center; /* Center horizontally */
  text-align: center; /* Center text lines */
  padding: 20px; /* Adds padding inside the card for content */
  z-index: 2;
}

.card-blue {
  position: absolute; /* Positioned absolutely within .card-small-dark */
  top: 23px; /* Adjusted to position within .card-small-dark */
  left: 23px; /* Adjusted to align with the padding of .card-small-dark */
  width: 441px;
  height: 91px;
    background-color: #2c7adf;
    border-radius: 34px;
  }

  .card-small-dark-hierarchy {
    
  position: relative; /* or 'absolute' if within a positioned parent container */
  top: 400px; /* Adjust this value based on the total height of the above cards including any margin/padding */
  left: 26px; /* Match this with the 'left' values of other cards */
  width: 476px;
  height: 426px;
  background-color: #161616; /* Match or differentiate the style */
  border: 1px solid #323232;
  border-radius: 53px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 20px;
  z-index: 1; /* Adjust if needed */
}


/*Text Colors*/
.yellow-text {
  color: yellow;
}

.white-text {
  color: white;
}

.blue-text {
  color: blue;
}

.red-text {
  color: red;
}

.button-Decompose {
  cursor: pointer;
  position: absolute; /* Changed from relative to fixed */
  top: 75px; /* Position it 20px from the top of the viewport */
  left: calc(50% - 120px); /* Center it horizontally */
  transform: translateX(-50%); /* Adjust horizontal positioning to truly center it */
  width: 233px;
  height: 56px;
  padding: 0px 8px;
  border: 0;
  box-sizing: border-box;
  border-radius: 24px;
  background-color: #cc0ed6;
  color: #ffffff;
  font-size: 18px;
  font-family: "Source Sans Pro";
  line-height: 20px;
  outline: none;
  z-index: 1000; /* Ensures it's on top of other elements */
}

.button-Beta {
  cursor: pointer;
  position: absolute; /* Keep consistent with the Decompose button */
  top: 75px; /* Same vertical position as Decompose */
  left: calc(50% + 120px); /* Adjust based on the Decompose button's width */
  transform: translateX(-50%);
  width: 233px;
  height: 56px;
  padding: 0 8px;
  border: none;
  box-sizing: border-box;
  border-radius: 24px;
  background-color: #4a90e2; /* Example blue color */
  color: #ffffff;
  font-size: 18px;
  font-family: "Source Sans Pro";
  line-height: 20px;
  outline: none;
  z-index: 1000; /* Ensures it's on top of other elements */
}

.file-selector-container {
    margin-top: 100px; /* Adjust the value as needed to move the selector down */
}


</style>
</head>
<body>
  <!-- Image container -->
  <div class="container">
    <img src="./images/library.jpeg" alt="Suit Image">
  </div>
<div class="form-section">
    <div class="transparent-rectangle">
  <!--<h1>NLegal</h1>-->
  <a href="index.html">
    <img src="./images/logo-zoomin.jpg">
  </a>
    </div>

<div class="file-selector-container">
    <select id="fileSelector">
        <option value="">--Please choose a file--</option>
        <!-- Options will be added here dynamically -->
    </select>
</div>
  
  
  <div class="card card-small-dark">
      <div class="card card-purple">
        <!-- Content here -->
        <div class="text-style1">
            <br>Prediction
          </div>
          <div class="text-style2" id="prediction-output">loading...</div>
        </span>
      </div>
    </div>
  </div>

  <div class="card card-small-dark3">
    <div class="card card-yellow">
        <!-- Content here -->
        <div class="text-yellow">
            <br>Legal Decomposition
          </div>
        <div class="text-style2" id="legal-decomposition-output">loading...</div>
    </div>
</div>
  
  <div class="card card-small-dark2">
      <div class="card card-blue">
        <!-- Content here -->
        <div class="text-style1">
            <br>Legal Entities 
          </div>
        <div class="text-style2" id="legal-entities-output">loading...</div>
        </div>
      </div>
  </div>

  <div class="card card-small-dark-hierarchy">
    <div class="card card-blue"> <!-- Use a different color or class if you like -->
        <!-- Card Title -->
        <div class="text-style1">
            Hierarchical Structuring
        </div>
        <!-- Card Content -->
        <div class="text-style2" id="hierarchical-structuring-output">loading...</div>
    </div>
</div>

  <div class="image">
    <!-- Image background set through CSS -->
  </div>
  
  <div class="pdf-container">
      <iframe src="./sentencias/sentencia.PDF" width="100%" height="100vh" frameborder="0" style="border: none;"></iframe>
    </div>



    <!-- Button --> 
<button id="Decompose"class="button-Decompose">Decompose</button>

<button id="Beta" class="button-Beta">Beta</button>  




</body>
<script>

  let csvData = []; // Global array to store CSV data

    document.addEventListener('DOMContentLoaded', function() {
    Papa.parse('/extracted_data_enhanced.csv', { // Make sure the file name is correct
      download: true,
      header: true,
      complete: function(results) {
        csvData = results.data;
        var fileSelector = document.getElementById('fileSelector');
        
        // Populate the dropdown with filenames
        csvData.forEach(function(row) {
          if (row.filename) { 
            var option = document.createElement('option');
            option.value = row.filename;
            option.textContent = row.filename;
            fileSelector.appendChild(option);
          }
        });
      }
    });
  });


// The rest of your script...



  document.getElementById('fileSelector').addEventListener('change', function() {
    const selectedFilename = this.value;
    if (!selectedFilename) return; // No file selected

    // No need to parse the CSV again, use the stored data
    const selectedRow = csvData.find(row => row.filename === selectedFilename);
    if (!selectedRow) return; // File not found in CSV

    // Update the web page with data from the selected row
    document.getElementById('standalone').textContent = selectedRow.PREDICTION;
    document.getElementById('conditional').textContent = selectedRow.LEGAL_ENTITIES;
    // Assuming you have an element with an ID or a class where you want to show Legal Decomposition
    document.querySelector('.text-style2').textContent = selectedRow.Legal_decomposition;
  });


  
  // document.addEventListener('DOMContentLoaded', function() {

  //   fetch('data.json')
  //     .then(response => response.json())
  //     .then(data => {
  //       // Update content from JSON file
  //       document.getElementById('standalone').textContent = data.generativeModel.standalone;
  //       document.getElementById('joint').textContent = data.generativeModel.joint;
  //       document.getElementById('conditional').textContent = data.discriminativeModel.conditional;
  //     })

  //     .catch(error => console.error('Error loading the JSON data: ', error));
  // });

  document.getElementById('Decompose').addEventListener('click', function() {
  const fileSelector = document.getElementById('fileSelector');
  const selectedFilename = fileSelector.value;

  if (!selectedFilename) {
    alert("Please select a file first.");
    return; // Stop if no file is selected
  }

  const selectedRow = csvData.find(row => row.filename === selectedFilename);

  if (!selectedRow) {
    console.error('Selected file not found in CSV data');
    return; // Stop if the file is not found (shouldn't happen if UI is consistent with data)
  }

  // Ensure these IDs match those you have added to your HTML elements
  const predictionOutputElement = document.getElementById('prediction-output');
  const legalEntitiesOutputElement = document.getElementById('legal-entities-output');
  const legalDecompositionOutputElement = document.getElementById('legal-decomposition-output');

  // Set the text content and ensure the element is visible
  if (predictionOutputElement) {
    predictionOutputElement.textContent = selectedRow.PREDICTION || 'Summary not found';
    predictionOutputElement.style.display = 'block'; // Make the element visible
  }
  if (legalEntitiesOutputElement) {
    legalEntitiesOutputElement.textContent = selectedRow.LEGAL_ENTITIES || 'Legal entities not found';
    legalEntitiesOutputElement.style.display = 'block'; // Make the element visible
  }
  if (legalDecompositionOutputElement) {
    legalDecompositionOutputElement.textContent = selectedRow.Legal_decomposition || 'Legal decomposition not found';
    legalDecompositionOutputElement.style.display = 'block'; // Make the element visible
  }

  const hierarchicalStructuringOutputElement = document.getElementById('hierarchical-structuring-output');
  if (hierarchicalStructuringOutputElement) hierarchicalStructuringOutputElement.textContent = selectedRow.HIERARCHICAL_STRUCTURING || 'Hierarchical structuring data not found';

  // Ensure elements are visible
  [predictionOutputElement, legalEntitiesOutputElement, legalDecompositionOutputElement, hierarchicalStructuringOutputElement].forEach(element => {
    if (element) element.style.display = 'block'; // Make the element visible
  });
});




  
</script>

</html>
