<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<style>
    
  html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    .container {
        
      position: fixed;
      top: 0;
      left: 0;
      width: 100%; /* esta clase es la de la imagen del fondo, la libreria*/
      height: 100%;
      overflow: hidden;
      z-index: -1; /* Ensure the image stays in the background */
    }

    .container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  .form-section {
    width: 100%; 
    flex: 4; /* Takes up 3/4 of the space */
    padding-top: 20px;
  padding-bottom: 20px;
  padding-left: 0; /* No left padding */
  padding-right: 0; 
  }




  .transparent-rectangle {
    margin-top: 70px; 
  height: 100px;
  /*background-color: #e5e5e5; This is a purple color, adjust the shade as you prefer */
  border-radius: 10px; /* Adjust as needed for desired roundness */
  padding: 20px; /* Add padding inside the rectangle */
  margin-bottom: 20px; /* Add some space below the rectangle */
  background-color: rgba(229, 229, 229, 0.41);
  z-index: 1;
  position: relative;
}

.transparent-rectangle img {

    position: relative; /* Add position relative */
  top: -45px; /* Move the image up by 10 pixels */
  left: 1px;
  width: 200px; /* Increase the width */
  height: auto; /* Automatically adjust the height to maintain proportions */
  border-radius: 12px;
  border: 1px solid #020002;
  box-sizing: border-box;
  box-shadow: 15px 12px 0px #d848e0;
  background-image: url(./image.jpg);
  background-position: center center;
  background-size: cover;
  background-repeat: no-repeat;
  opacity: 1;
}



.button {
  cursor: pointer;
  position: relative; /* Add position relative */
    top: 50px; /* Adjusted top value to move the button down */
    left: 40px;
    width: 172px;
    height: 41px;
    padding: 0px 8px;
    border: 0;
  box-sizing: border-box;
  border-radius: 24px;
  background-color: #ffffff;
  color: #161616;
  font-size: 19px;
  font-family: "Source Sans Pro";
  font-weight: 500;
  line-height: 25px;
  outline: none;
  z-index: 4;
  margin-left: 20px;
  margin-top: 20px;
}

.button-lawsuit {
  margin-top: 10px; /* Add some space above the button */
}

.text {
    margin-top: 40px; 
  color: #ffffff;
  font-size: 24px;
  font-family: "Source Sans Pro";
  line-height: 31px;
  margin-bottom: 20px; /* Add padding/margin to create space */
  margin-left: 20px;
}

.card {
  top: -556px;
  left: 40px;
  width: 948px;
  height: 300px;
  background-color: rgba(255, 255, 255, 0.5);
  border-radius: 24px;
  margin-left: 20px;
  margin-top: 40px;
  padding: 10px; /* Reduced padding to allow more space for the textarea */
  display: flex;
  flex-direction: column;
  align-items: center; /* Center-align the child elements */
}

#textInput {
  width: 100%; /* Make the textarea take up the full width of its parent */
  height: 80%; /* Adjust the height to fill the space, leaving room for the button */
  box-sizing: border-box; /* Include padding and border in the element's total dimensions */
  padding: 8px; /* Provide some internal spacing for the text */
  border-radius: 5px; /* Optional: Adds rounded corners to the textarea */
  border: 1px solid rgba(0, 0, 0, 0.2); /* Makes the border less noticeable */
  background-color: transparent; /* Makes the textarea's background transparent */
  resize: none; /* Optional: Prevents the user from resizing the textarea */
  color: #000; /* Sets the text color to black, adjust as needed */
}

.card textarea, .card button {
  font-size: 1vw; /* Example of responsive font size based on the viewport width */
}

/* Adjust the font size of textarea and button text to be more responsive */
#textInput, .card button {
  font-size: calc(0.5vw + 0.5vh); /* Combines viewport width and height for a balanced scaling */
}

.card-2 {
  position: relative; 
  top: -480px;
  width: 500px; 
  height: 500px;
  background-color: #161616;
  border-radius: 24px;
  margin-left: auto;
  padding-right: -20px; 
  border-radius: 50.24px;
  border: 1px solid #323232;
  box-sizing: border-box;
  overflow-y: auto; /* This line adds a scrollbar if the content overflows */
  
}

.card-2 .card-title {
  color: #ffffff; /* Ensures the text is white */
  text-align: center; /* Centers the title text */
  font-size: 24px; /* Example font size, adjust as needed */
  font-family: "Source Sans Pro", sans-serif; /* Example font family, adjust as needed */
  margin-top: 20px; /* Adds space at the top inside the card */
  margin-bottom: 20px; /* Adds space between the title and the content */
}
.c2-text {
  position: absolute;
  top: 45%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white; /* This ensures the text is white */
  font-size: 19px;
  font-family: "EB Garamond";
  text-align: center;
  text-align: justify; /* Justify text */
  width: 80%; /* Adjust width as needed */
  /* Ensure the container can scroll if content overflows. */
  max-height: 90%; /* Adjust based on your design needs */
  overflow-y: auto; /* Adds scrollbar to this element specifically if content overflows */
}



.button-upload {
  cursor: pointer;
  position: relative; 
  top: -1550px;
  left: 816px;
  width: 172px;
  height: 41px;
  padding: 0px 8px;
  border: 0;
  box-sizing: border-box;
  border-radius: 24px;
  background-color: #ffffff;
  color: #161616;
  font-size: 24px;
  font-family: "Source Sans Pro";
  font-weight: 500;
  line-height: 31px;
  outline: none;
  z-index: 5;
}

</style>
</head>
<body>
  <div class="container">
    <img src="./images/library.jpeg" alt="Suit Image">
  </div>
  <div class="form-section">
    <div class="transparent-rectangle">
      <a href="legal_decomp.html">
        <img src="./images/logo-zoomin.jpg">
      </a>
    </div>
    <a href="contract-input.html"><button class="button">Create a Contract</button></a>
    <br>
    <br>
    <br>

    <div class="text">
    </div>
    <div class="card">
      <textarea id="textInput"></textarea><br>
      <button class="button-lawsuit" onclick="processText()">I want legal assistance</button>
    </div>
    <div class="card-2">
      <h2 class="card-title">Consejo legal...</h2> <!-- Title added here -->
      <div class="c2-text" id="resultContainer">
          <!-- Results from callGenerationEndpoint will be displayed here -->
      </div>
  </div>
    </div>
  </div>

<a href="contract-input.html"><button class="button-upload">Create</button></a>

<script> 
  async function callGenerationEndpoint(text) {
        const url = 'https://api-poc-v67w2w32lq-uc.a.run.app/generation/';
        const data = { text: text };

        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const result = await response.json();
            return result;
        } catch (error) {
            console.error('There was a problem with the fetch operation:', error);
        }
      }

      function processText() {
          const textInput = document.getElementById("textInput").value;
          if (textInput) {
              callGenerationEndpoint(textInput).then(result => {
                  const resultContainer = document.getElementById("resultContainer");
                  resultContainer.innerText = JSON.stringify(result, null, 2);
              }).catch(error => {
                  const resultContainer = document.getElementById("resultContainer");
                  resultContainer.innerText = `Error: ${error.message}`;
              });
          } else {
              alert("Please enter some text before clicking help!");
          }
      }
</script>

</body>
</html>
